<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.springboot.delivery.mapper.UserStoreMapper">
	<select id="storeCategory" parameterType="String" resultType="com.springboot.delivery.model.MenuCategory">
		select * from b_menu_category_tbl where store_id = #{store_id}
	</select>
	
	<select id="menuList" parameterType="Integer" resultType="com.springboot.delivery.model.MenuItem">
		select * from b_menu_item_tbl where menu_category_id = #{menu_category_id}
	</select>
	
	<select id="menuItemDetail" parameterType="Integer" resultType="com.springboot.delivery.model.MenuItem">
		select * from b_menu_item_tbl where menu_item_id = #{menu_item_id}
	</select>
	
	<select id="optionDetail" parameterType="Integer" resultType="com.springboot.delivery.model.OptionSet">
	    SELECT 
	        o.option_id, 
	        o.option_name, 
	        o.option_price, 
	        o.store_id, 
	        o.menu_item_id, 
	        o.option_group_id, 
	        g.option_group_name
	    FROM 
	        b_option_tbl o
	    LEFT JOIN 
	        b_option_group_tbl g
	    ON 
	        o.option_group_id = g.option_group_id
	    WHERE 
	        o.menu_item_id = #{menu_item_id}
	</select>
</mapper>